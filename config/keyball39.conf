# ZMK Configuration for Keyball39

# Enable encoder support
CONFIG_ZMK_ENCODER=y

# Enable PWM3360 sensor support
CONFIG_SENSOR=y
CONFIG_SENSOR_PWM3360=y

# Split keyboard configuration
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_SELECT=y

# Matrix configuration
CONFIG_ZMK_KEYMAP_TRANSFORM=y

# Behavior configuration
CONFIG_ZMK_BEHAVIOR_RESET=y
CONFIG_ZMK_BEHAVIOR_BASIC_KEY_PRESS=y
CONFIG_ZMK_BEHAVIOR_BASIC_KEY_RELEASE=y
CONFIG_ZMK_BEHAVIOR_HOLD_TAP=y

# USB configuration
CONFIG_USB=y
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="Keyball39"
CONFIG_USB_DEVICE_MANUFACTURER="YourName"

# EC11 encoder configuration
CONFIG_ZMK_BEHAVIOR_ENCODER_ROTATION=y
CONFIG_ZMK_ENCODER_KEY_COUNT=1
CONFIG_ZMK_ENCODER_DEFAULT_RESOLUTION=2

# Sensor configuration for PWM3360
CONFIG_PWM3360=y
CONFIG_PWM3360_INIT_PRIORITY=50
CONFIG_PWM3360_CS_GPIO_PIN=7
CONFIG_PWM3360_IRQ_GPIO_PIN=6
CONFIG_PWM3360_SPI_DEV_NAME="SPI_0"
CONFIG_PWM3360_SPI_MAX_FREQ=1000000

# OLED configuration
CONFIG_DISPLAY=y
CONFIG_DISPLAY_LOG_LEVEL_INF=y
CONFIG_DISPLAY_INIT_PRIORITY=90
CONFIG_DISPLAY_TIMEOUT=30000
CONFIG_SSD1306=y
CONFIG_SSD1306_DEFAULT_RESOLUTION="128x32"
CONFIG_SSD1306_I2C_MASTER_DEV_NAME="I2C_0"
CONFIG_SSD1306_I2C_ADDR=0x3C
CONFIG_SSD1306_PANEL_SEGMENT_REMAP=y
CONFIG_SSD1306_PANEL_COM_INV_DIR=y

# Bluetooth configuration (if applicable)
CONFIG_ZMK_BLE=y
CONFIG_ZMK_BLE_INIT_PRIORITY=50
CONFIG_BT=y
CONFIG_BT_DEVICE_NAME="Keyball39"
CONFIG_BT_DEVICE_APPEARANCE=960
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_GATT_DIS=y
CONFIG_BT_GATT_DIS_PNP=n
CONFIG_BT_GATT_DIS_MANUF="YourName"
CONFIG_BT_GATT_DIS_MODEL="Keyball39"

# Power management configuration
CONFIG_ZMK_IDLE_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=60000

# Logging configuration
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_USE_SEGGER_RTT=y

# Remap.keys compatibility
CONFIG_REMAP_KEYS=y
CONFIG_REMAP_KEYS_DEFAULT_LAYER=0
CONFIG_REMAP_KEYS_LAYER_1=1
CONFIG_REMAP_KEYS_LAYER_2=2
